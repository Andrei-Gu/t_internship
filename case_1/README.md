# Блокировки платежей (API + БД)

Добрый день. Здесь представлены файлы по 1-му заданию.

Хотел бы отметить, что в случае получения такого же задания в реальной работе, я бы обязательно задал уточняющие вопросы:
- как банк понимает, что клиент ненадежен (мошенник)? Приходит соответствующее сообщение / документ (далее - Документ) от подразделения банка по фин.мониторингу? Или Документ приходит от РОСФИНМОНИТОРИНГа, ФНС, МВД и т.д. (далее - Источник)?
- как банк понимает, что клиент снова стал надежным (престал быть мошенником)? Приходит соответствующий Документ от его Источника, на основе которого клиента изначально стали считать ненадежным?
- если таких Источников несколько, то:
    - Документ, на основе которого клиента стали считать ненадежным, может быть отменен только Документом этого же Источника? То есть, если клиента стали считать ненадежным на основании Документа, полученного от МВД, то чтобы клиента снова можно было считать надежным, соответствующий Документ должен быть направлен именно МВД? 
    - все ли они равносильны или имеется какая-то иерархия? Например, получено 2 Документа о признании клиента ненадежным: от ФНС и РОСФИНМОНИТОРИНГа. Банк заблокировал платежи клиента. Затем от ФНС приходит Документ о признании клиента снова надежным, но от РОСФИНМОНИТОРИНГа такого Документа не поступило. Может ли банк разблокировать платежи клиента только на основании Документа ФНС? То есть ФНС выше по иерархии, чем РОСФИНМОНИТОРИНГ, и поэтому, Документ ФНС может отменять действие Документа РОСФИНМОНИТОРИНГа, но при этом Документ РОСФИНМОНИТОРИНГа не может отменить действие Документа ФНС?
- для корректной блокировки / разблокировки платежей клиента важна только дата (например, 2025-01-28) или дата и время (например, 2025-01-28 17:15:45) начала и окончания блокировки?
- каждый Документ содержит информацию о необходимости блокировки / разблокировки платежей только одного клиента? Или возможны случаи, когда в одном Документе содержится информация о необходимости блокировки / разблокировки 2-х и более клиентов?
- кто из работников банка непосредственно включает / отключает блокировку платежей?
- что будет с платежами клиента:
    - которые были созданы до включения блокировки, но не были отправлены? После снятия блокировки банк их проведет, или они будут отклонены?
    - которые были созданы в период действия блокировки? После снятия блокировки банк их проведет, или они будут отклонены?
Аналогичные вопросы по блокировке добропорядочных клиентов.

Исходя из условий задания, будем считать что:
- блокировка / разблокировка платежей клиентов (и мошенников, и добропорядочных) происходит по информации, получаемой только от одного Источника;
- для корректной блокировки / разблокировки платежей важна только дата начала и окончания блокировки (например, 2025-01-28);
- клиенты юридические лица (далее - ЮЛ) и индивидуальные предприниматели (далее - ИП) заводятся в разных таблицах с независымыми друг от друга id;
- каждый клиент может многократно быть признан ненадежным, а затем снова надежным;
- каждый клиент может многократно быть заблокирован из-за неверных реквизитов, а затем снова быть разблокированным;
- каждый клиент в одно и то же время может быть заблокирован и как добропорядочный из-за неверных реквизитов, и как ненадежный (мошенник);
- для качественного обслуживания важно хранить не только дату блокировки / разблокировки платежей, но и причины / информацию о документе-основании (поля blocking_reason и unblocking_reason);
- поля таблиц **company** (ЮЛ) и **entrepreneur** (ИП) приведены без детальной проработки, так как предполагается, что они уже имеются в БД банка и нужны, только чтобы показать взаимосвязи в БД;
- 
